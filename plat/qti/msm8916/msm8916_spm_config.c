/*
 * Magic values are taken from (with some clarification):
 * https://source.codeaurora.org/quic/la/kernel/msm-3.10/tree/arch/arm/boot/dts/qcom/msm8916-pm.dtsi?h=LA.BR.1.2.9.1-02310-8x16.0
 * https://source.codeaurora.org/quic/la/kernel/msm-3.10/tree/arch/arm/boot/dts/qcom/msm8939-pm.dtsi?h=LA.BR.1.2.9.1-02310-8x16.0
 * https://git.codelinaro.org/clo/la/kernel/msm-3.18/-/blob/LA.UM.7.7.c26-09100-8x09.0/arch/arm/boot/dts/qcom/msm8909-pm8909-pm.dtsi
 * https://git.codelinaro.org/clo/la/kernel/msm-3.18/-/blob/LE.UM.4.3.2.r1-04200-9x07/arch/arm/boot/dts/qcom/mdm9607-pm.dtsi
 */

static const struct spm_config msm8916_spm_v3_cpu = {
	.cfg = SAW_CFG_CLK_DIV(2), /* 2/19.2 MHz = ~104ns timer tick */
	/* DLY1 = ~52ns, DLY2 = 10*104ns = ~1us, DLY3 = 961*104ns = ~100us */
	.dly = SAW_SPM_DLY_1(0) | SAW_SPM_DLY_2(10) | SAW_SPM_DLY_3(961),
#ifndef PLAT_mdm9607
	.entry_seq = {
		/* WFI */
		0x60, 0x03, 0x60, 0x0b, 0x0f,
		/* Power collapse */
#if defined(PLAT_msm8909)
		0x20, 0x10, 0x80, 0x30, 0x90, 0x5b, 0x60, 0x03, 0x60, 0x76,
		0x76, 0x0b, 0x94, 0x5b, 0x80, 0x10, 0x26, 0x30, 0x0f,
#elif defined(PLAT_msm8916)
		0x20, 0x10, 0x80, 0x30, 0x90, 0x5b, 0x60, 0x03, 0x60, 0x3b,
		0x76, 0x76, 0x0b, 0x94, 0x5b, 0x80, 0x10, 0x26, 0x30, 0x0f,
#elif defined(PLAT_msm8939)
		0x20, 0x50, 0x1b, 0x10, 0x80, 0x30, 0x90, 0x5b, 0x60, 0x50,
		0x03, 0x60, 0x76, 0x76, 0x0b, 0x50, 0x1b, 0x94, 0x5B, 0x80,
		0x10, 0x26, 0x30, 0x50, 0x0f,
#endif
	},
	.pc_start_adr = 5,
#else	/* PLAT_mdm9607 */
	.entry_seq = {
		/* WFI */
		0x04, 0x03, 0x04, 0x0f,
		/* Standalone power collapse */
		0x1f, 0x34, 0x04, 0x44, 0x24, 0x54, 0x03, 0x54, 0x44, 0x04,
		0x24, 0x34, 0x0f,
		/* Power collapse */
		0x1f, 0x34, 0x04, 0x44, 0x14, 0x24, 0x54, 0x03, 0x54, 0x44,
		0x14, 0x04, 0x04, 0x24, 0x04, 0x34, 0x0f,
	},
	.pc_start_adr = 4,
#endif	/* PLAT_mdm9607 */
};
